public class TesteCartucho {
    public static void main(String[] args) {

        CartuchoDeTinta cartucho = new CartuchoDeTinta("CT001", "Preto", 100);

        System.out.println("âœ¨ Sistema de Controle de Cartuchos âœ¨");
        System.out.println("=====================================");

        exibirStatus(cartucho);

        // Consumindo tinta
        System.out.println("\nðŸ’¥ Consumindo 20ml...");
        cartucho.consumir(20);
        exibirStatus(cartucho);

        System.out.println("\nðŸ’¥ Consumindo 40ml...");
        cartucho.consumir(40);
        exibirStatus(cartucho);

        // Reabastecendo tinta
        System.out.println("\nðŸ’§ Reabastecendo 30ml...");
        cartucho.reabastecer(30);
        exibirStatus(cartucho);

        System.out.println("\nðŸ’§ Reabastecendo 50ml...");
        cartucho.reabastecer(50);
        exibirStatus(cartucho);

        System.out.println("\nðŸŽ¯ OperaÃ§Ãµes finalizadas!");
    }

    private static void exibirStatus(CartuchoDeTinta cartucho) {
        cartucho.exibirInformacoes();
        desenharBarra(cartucho);
    }

    private static void desenharBarra(CartuchoDeTinta cartucho) {
        int totalBlocos = 20; // comprimento da barra
        int blocosCheios = (int) Math.round((cartucho.getNivelAtualMl() / cartucho.getCapacidadeMl()) * totalBlocos);

        StringBuilder barra = new StringBuilder();
        barra.append("[");
        for (int i = 0; i < totalBlocos; i++) {
            if (i < blocosCheios) {
                barra.append("â–ˆ"); // bloco cheio
            } else {
                barra.append(" "); // bloco vazio
            }
        }
        barra.append("]");

        System.out.println("NÃ­vel visual: " + barra.toString());
    }
}
